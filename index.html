<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Car Movement Test</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- Camera rig -->
      <a-entity id="rig" position="0 1.6 0">
        <a-entity camera look-controls position="0 0 0"></a-entity>
      </a-entity>

      <!-- Car entity -->
      <a-entity id="car" position="0 0 0" car-controller></a-entity>

      <!-- Ground -->
      <a-plane rotation="-90 0 0" width="100" height="100" color="#444"></a-plane>

      <script>
        AFRAME.registerComponent('car-controller', {
          init: function () {
            this.speed = 2; // meters per second
            this.direction = new THREE.Vector3(0, 0, -1); // forward
          },
          tick: function (time, deltaTime) {
            const dt = deltaTime / 1000;
            const move = this.direction.clone().multiplyScalar(this.speed * dt);
            this.el.object3D.position.add(move);

            // Sync camera rig to car position
            const rig = document.querySelector('#rig');
            rig.object3D.position.copy(this.el.object3D.position);
          }
        });
      </script>
    </a-scene>
  </body>
</html>

